10 graphic1,1:color0,2:color1,10,4:scnclr
20 x=156:y=96:box,0,0,3,3,,1
30 sshapea$,0,0,3,3
40 sshapez$,x,y,x+3,y+3:gshapea$,x,y,0
50 getkeya$:ifa$="r"then70:else60
60 ifa$="n"then150
70 ifa$=chr$(145)theny=y-4:gosub290:goto30
80 ifa$="q"thenx=x-4:y=y-4:gosub290:goto30
90 ifa$=chr$(17)theny=y+4:gosub290:goto30
100 ifa$="a"thenx=x-4:y=y+4:gosub290:goto30
110 ifa$=chr$(29)thenx=x+4:gosub290:goto30
120 ifa$="w"thenx=x+4:y=y-4:gosub290:goto30
130 ifa$=chr$(157)thenx=x-4:gosub290:goto30
140 ifa$="s"thenx=x+4:y=y+4:gosub290:goto30
150 box,0,0,3,3,,1:sshapea$,0,0,3,3
160 sshapez$,x,y,x+4,y+4:gshapea$,x,y,0
170 getkeya$:ifa$="r"then30
180 ifa$=chr$(145)theny=y-4:gosub280:goto240
190 ifa$=chr$(17)theny=y+4:gosub280:goto250
200 ifa$=chr$(29)thenx=x+4:gosub280:goto260
210 ifa$=chr$(157)thenx=x-4:gosub280:goto270
220 ifa$="t"thenbox0,x,y,x+3,y+3,,1:goto150
230 ifa$="f"thenpaint,x+4,y+4:goto150
240 gosub290:gshapez$,x,y+4,3:goto150
250 gosub290:gshapez$,x,y-4,3:goto150
260 gosub290:gshapez$,x-4,y,3:goto150
270 gosub290:gshapez$,x+4,y,3:goto150
280 sshapey$,x,y,x+4,y+4:return
290 gshapea$,x,y,2:return